sudo: required
language: python
services:
      - mongodb

python:
    - "3.4"

install:                                                                                                                                                                                                                            
    - pip install requests
    - pip install pymongo
    - pip install pandas
    - pip install docopt
    - pip install voluptuous
    - pip install xlrd
    - pip install elasticsearch
    - pip install configobj
    - cp config/dlstats ~/.dlstats

before_script:
    - echo "replSet = rs0" | sudo tee -a /etc/mongodb.conf
    - echo "bind_ip = 127.0.0.1" | sudo tee -a /etc/mongodb.conf
    - echo "port = 27017" | sudo tee -a /etc/mongodb.conf
    - sleep 25 
    - sudo service mongodb restart
    - mongo --eval 'rs.initiate()'
    - sleep 10
      
script: nosetests
